from . import api
from flask import jsonify
from Simlarity import getFiles
from Simlarity import testWithMd5

@api.route('/sim_search',methods = ["POST","GET"])
def getAllFileForSimSearch(): #只是为了环状展示图
    return jsonify(getFiles.getFilesForAll("D:\\MD-data\\json.txt"))

@api.route("/result_sim/")
def getSimSearchResult():
    pass
@api.route("/sim_searchfilemd5/sim/<md5>")
def simSearchFilemd5(md5):
    topsMds = testWithMd5(md5)
    return jsonify(
        {"sim_res" : getFiles.getFiles("D:\\MD-data\\json.txt",topsMds)}
    )